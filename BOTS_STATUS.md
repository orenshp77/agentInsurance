# ğŸ¤– ×¡×˜×˜×•×¡ Bots - insurance-app

## ×¡×™×›×•×

×™×© ×œ×š **2 Bots** ××•×›× ×™× ×©×™×›×•×œ×™× ×œ×¤×¨×•×¡:

1. **Monitoring Bot** - × ×™×˜×•×¨ ×™×•××™ ×•×”×ª×¨××•×ª
2. **Auto-Healer Bot** - ×ª×™×§×•×Ÿ ××•×˜×•××˜×™ ×©×œ ×‘×¢×™×•×ª

**×¡×˜×˜×•×¡ × ×•×›×—×™:** âŒ ×œ× ×¤×¨×•×¡×™×

---

## ğŸ¤– 1. Monitoring Bot

### ××” ×”×•× ×¢×•×©×”?

#### ×‘×“×™×§×•×ª ×™×•××™×•×ª (×›×œ 24 ×©×¢×•×ª):
- âœ… **×ª×§×™× ×•×ª ×”××ª×¨** - ×‘×•×“×§ ×©-Cloud Run ××’×™×‘
- âœ… **×—×™×‘×•×¨ Database** - ×‘×•×“×§ ×©-Cloud SQL ×¢×•×‘×“
- âœ… **×¡×¨×™×§×ª ×©×’×™××•×ª** - ××—×¤×© ×©×’×™××•×ª ×‘-24 ×©×¢×•×ª ×”××—×¨×•× ×•×ª
- âœ… **×’×™×‘×•×™ ××•×˜×•××˜×™** - ×™×•×¦×¨ backup ×©×œ ×”-Database ×œ-Cloud Storage

#### ××™×™×œ×™× ××•×˜×•××˜×™×™×:
- ğŸ“§ **×“×•×— ×¡×˜×˜×•×¡ ×›×œ 3 ×™××™×** - "×”×›×œ ×ª×§×™×Ÿ" (orenshp77@gmail.com)
- ğŸš¨ **×”×ª×¨××•×ª ××™×™×“×™×•×ª** - ×›×©×™×© ×‘×¢×™×” (orenshp77@gmail.com)
- ğŸ”´ **×©×’×™××•×ª ×§×¨×™×˜×™×•×ª** - ×× ×”×‘×•×˜ ×¢×¦××• ×§×•×¨×¡

### ××™×š ×œ×¤×¨×•×¡?

**âš ï¸ ×œ×¤× ×™ ×”×¤×¨×™×¡×” - ×ª×§×Ÿ ××ª ×”-URL!**

×”×‘×•×˜ ××¦×‘×™×¢ ×œ-URL ×©×’×•×™. ×¦×¨×™×š ×œ×ª×§×Ÿ:

```bash
# ×¢×¨×•×š ××ª ×”×§×•×‘×¥:
functions/monitoring-bot/index.js

# ×©× ×” ×‘×©×•×¨×” 12:
const SITE_URL = 'https://insurance-app-767151043885.me-west1.run.app'; # â† ×ª×§×Ÿ ××ª ×–×”!
```

**×¤×¨×™×¡×”:**

```powershell
cd functions/monitoring-bot
.\deploy.sh
# ××•
bash deploy.sh
```

**××” ×–×” ×™×¢×©×”:**
1. ×™×¦×•×¨ bucket ×œ×’×™×‘×•×™×™×: `insurance-app-backups`
2. ×™×¤×¨×•×¡ Cloud Function ×‘-`me-west1`
3. ×™×’×“×™×¨ Cloud Scheduler ×œ×¨×•×¥ ×›×œ ×™×•× ×‘×©×¢×” 02:00

### ×‘×“×™×§×” ×™×“× ×™×ª:

```powershell
# ××—×¨×™ ×”×¤×¨×™×¡×”, × ×¡×”:
curl https://me-west1-insurance-app-486316.cloudfunctions.net/monitoring-bot
```

---

## ğŸ› ï¸ 2. Auto-Healer Bot

### ××” ×”×•× ×¢×•×©×”?

#### 7 ×‘×“×™×§×•×ª + ×ª×™×§×•× ×™× ××•×˜×•××˜×™×™× (×›×œ 3 ×™××™×):

**1. Database Health**
- ×‘×•×“×§ ×—×™×‘×•×¨×™× ×¤×¢×™×œ×™×
- ×‘×•×“×§ ×’×•×“×œ ×˜×‘×œ××•×ª
- ×‘×•×“×§ ×‘×™×¦×•×¢×™ queries

**2. Orphaned Records** â†’ **×ª×™×§×•×Ÿ ××•×˜×•××˜×™!**
- ×œ×§×•×—×•×ª ×œ×œ× ×¡×•×›×Ÿ â†’ ××—×™×§×”/×”×§×¦××” ××—×“×©
- ×ª×™×§×™×•×ª ×œ×œ× ××©×ª××© â†’ ××—×™×§×”
- ×§×‘×¦×™× ×œ×œ× ×ª×™×§×™×™×” â†’ ××—×™×§×”

**3. File Integrity** â†’ **×ª×™×§×•×Ÿ ××•×˜×•××˜×™!**
- ×§×‘×¦×™× ×¢× URL ×œ× ×ª×§×™×Ÿ â†’ ×ª×™×§×•×Ÿ
- ×§×‘×¦×™× ×¢× ×©× ×—×¡×¨ â†’ ×™×¦×™×¨×ª ×©× ××•×˜×•××˜×™
- ×§×‘×¦×™× ×›×¤×•×œ×™× â†’ ××™×–×•×’

**4. User Accounts**
- ××©×ª××©×™× ×œ×œ× ××™×™×œ â†’ ×“×™×•×•×—
- ××™×™×œ×™× ×›×¤×•×œ×™× â†’ ×“×™×•×•×—
- ×”×ª×¨××•×ª ×™×©× ×•×ª (>30 ×™×•×) â†’ **××—×™×§×” ××•×˜×•××˜×™×ª**

**5. System Logs**
- ×©×’×™××•×ª ×§×¨×™×˜×™×•×ª â†’ ×“×™×•×•×—
- ×œ×•×’×™× ×™×©× ×™× (>90 ×™×•×) â†’ **××—×™×§×” ××•×˜×•××˜×™×ª**

**6. Performance**
- ×©××™×œ×ª×•×ª ××™×˜×™×•×ª â†’ ×“×™×•×•×—
- ×—×™×‘×•×¨×™× ×ª×§×•×¢×™× â†’ ×“×™×•×•×—

**7. Security**
- ××¡×¤×¨ Admins â†’ ×“×™×•×•×—
- ×”×¨×©××•×ª ×—×¨×™×’×•×ª â†’ ×“×™×•×•×—

#### ××™×™×œ ×“×•×—:
- ğŸ“Š **×“×•×— ××¤×•×¨×˜** ×›×œ 3 ×™××™×
- âœ… ××” ×ª×•×§×Ÿ ××•×˜×•××˜×™×ª
- âš ï¸ ××” ×“×•×¨×© ×ª×©×•××ª ×œ×‘ ×™×“× ×™×ª

### ××™×š ×œ×¤×¨×•×¡?

**âš ï¸ ×”×‘×•×˜ ×˜×¨× ××•×›×Ÿ ×œ×—×œ×•×˜×™×Ÿ!**

×¦×¨×™×š ×œ×¡×™×™× ×œ×¤×ª×— ××•×ª×• ×ª×—×™×œ×”. ×™×© ×œ×• ××¡××š ××§×™×£ ×‘:
- [AUTO_HEALER_GUIDE.md](AUTO_HEALER_GUIDE.md)

---

## ğŸ“Š ×”×©×•×•××”

| ×ª×›×•× ×” | Monitoring Bot | Auto-Healer Bot |
|-------|----------------|-----------------|
| **×ª×“×™×¨×•×ª** | ×›×œ 24 ×©×¢×•×ª | ×›×œ 3 ×™××™× |
| **×–××Ÿ ×¨×™×¦×”** | 02:00 AM | ×’××™×© |
| **×ª×™×§×•× ×™× ××•×˜×•××˜×™×™×** | âŒ ×œ× | âœ… ×›×Ÿ |
| **×’×™×‘×•×™ DB** | âœ… ×›×Ÿ | âŒ ×œ× |
| **××™×™×œ×™×** | ×›×œ 3 ×™××™× + ×”×ª×¨××•×ª | ×›×œ 3 ×™××™× |
| **×¡×˜×˜×•×¡** | âš ï¸ ××•×›×Ÿ ×œ×¤×¨×™×¡×” | âš ï¸ ×‘×¤×™×ª×•×— |

---

## ğŸš€ ×”××œ×¦×” ×œ×¤×¨×™×¡×”

### ×©×œ×‘ 1: ×ª×§×Ÿ ××ª Monitoring Bot

```bash
# 1. ×ª×§×Ÿ ××ª ×”-URL ×‘×§×•×‘×¥:
cd my-agent-app/functions/monitoring-bot
nano index.js  # ××• notepad
# ×©× ×” ×©×•×¨×” 12 ×œ:
const SITE_URL = 'https://insurance-app-767151043885.me-west1.run.app';
```

### ×©×œ×‘ 2: ×¤×¨×•×¡ ××ª Monitoring Bot

```bash
# 2. ×¤×¨×•×¡:
bash deploy.sh
```

### ×©×œ×‘ 3: ×‘×“×•×§ ×©×¢×•×‘×“

```bash
# 3. ×‘×“×•×§:
curl https://me-west1-insurance-app-486316.cloudfunctions.net/monitoring-bot

# 4. ×‘×“×•×§ scheduler:
gcloud scheduler jobs list --project=insurance-app-486316
```

### ×©×œ×‘ 4 (××•×¤×¦×™×•× ×œ×™): ×¤×¨×•×¡ Auto-Healer

```bash
# ×¨×§ ×× ×¨×•×¦×” ×ª×™×§×•× ×™× ××•×˜×•××˜×™×™×!
# ×¢×“×™×£ ×œ×—×›×•×ª ×¢×“ ×©×ª×‘×“×•×§ ×©×”××¢×¨×›×ª ×™×¦×™×‘×”
```

---

## âš™ï¸ ×”×’×“×¨×•×ª × ×•×›×—×™×•×ª

### ××™×™×œ×™×:
- **×©×•×œ×— ×:** orenshp77@gmail.com
- **×¡×™×¡××”:** omegoytwqxuzdoid (App Password)
- **×©×•×œ×— ××œ:** orenshp77@gmail.com

### Cloud:
- **×¤×¨×•×™×§×˜:** insurance-app-486316
- **××–×•×¨:** me-west1
- **Backup Bucket:** insurance-app-backups

### ×–×× ×™×:
- **Monitoring:** ×›×œ ×™×•× ×‘×©×¢×” 02:00 (×©×¢×•×Ÿ ×™×©×¨××œ)
- **Auto-Healer:** ×›×œ 3 ×™××™×

---

## ğŸ”§ ×‘×¢×™×•×ª ×™×“×•×¢×•×ª

### âŒ Monitoring Bot - URL ×œ× × ×›×•×Ÿ
**×§×•×‘×¥:** `functions/monitoring-bot/index.js:12`
**×‘×¢×™×”:** `const SITE_URL = 'https://insurance-app-76715104388s.me-west1.run.app';`
**×¤×ª×¨×•×Ÿ:** ×©× ×” ×œ-`https://insurance-app-767151043885.me-west1.run.app`

### âš ï¸ Auto-Healer - ×œ× ××•×›×Ÿ
**××¦×‘:** ×‘×©×œ×‘×™ ×¤×™×ª×•×—
**×¤×ª×¨×•×Ÿ:** ×¡×™×™× ×œ×¤×ª×— ×œ×¤×™ [AUTO_HEALER_GUIDE.md](AUTO_HEALER_GUIDE.md)

---

## ğŸ“ ×§×™×©×•×¨×™× ×©×™××•×©×™×™×

### Monitoring Bot:
- **Code:** [functions/monitoring-bot/](functions/monitoring-bot/)
- **Deploy Script:** [deploy.sh](functions/monitoring-bot/deploy.sh)

### Auto-Healer Bot:
- **Guide:** [AUTO_HEALER_GUIDE.md](AUTO_HEALER_GUIDE.md)

### Cloud Console:
- [Cloud Functions](https://console.cloud.google.com/functions/list?project=insurance-app-486316)
- [Cloud Scheduler](https://console.cloud.google.com/cloudscheduler?project=insurance-app-486316)
- [Cloud Storage - Backups](https://console.cloud.google.com/storage/browser/insurance-app-backups?project=insurance-app-486316)

---

## âœ… Checklist ×¤×¨×™×¡×”

### Monitoring Bot:
- [ ] ×ª×™×§× ×ª×™ ××ª ×”-URL ×‘-index.js
- [ ] ×”×¨×¦×ª×™ ××ª deploy.sh
- [ ] ×‘×“×§×ª×™ ×©×”-Cloud Function ×§×™×™×
- [ ] ×‘×“×§×ª×™ ×©×”-Scheduler ×§×™×™×
- [ ] × ×™×¡×™×ª×™ ×œ×§×¨×•× ×œ-function ×™×“× ×™×ª
- [ ] ×§×™×‘×œ×ª×™ ××™×™×œ ×‘×“×™×§×”

### Auto-Healer Bot:
- [ ] ×¡×™×™××ª×™ ×œ×¤×ª×— ××ª ×”×‘×•×˜
- [ ] ×‘×“×§×ª×™ ×‘×¡×‘×™×‘×ª staging
- [ ] ×¤×¨×¡×ª×™ ×œproduction
- [ ] ×§×™×‘×œ×ª×™ ×“×•×— ×¨××©×•×Ÿ

---

**×¢×“×™×£ ×œ×”×ª×—×™×œ ×¢× Monitoring Bot ×‘×œ×‘×“, ×•×œ×”×•×¡×™×£ Auto-Healer ×¨×§ ××—×¨×™ ×©×”××¢×¨×›×ª ×™×¦×™×‘×”!** ğŸ¯
